<md-list-item flex ng-click="$ctrl.setSelectedIndex();$ctrl.getItems();"
              ng-class="{ 'md-whiteframe-z2': $ctrl.index == $ctrl.selectedIndex, 'selected-index': $ctrl.index == $ctrl.selectedIndex,  'selected-sm-index': $ctrl.index == $ctrl.xsSelectedIndex}">


  <md-item-content layout-fill>

    <div layout-fill flex class="md-list-item-text app-list-item" >

      <div ng-if="$ctrl.count > 10" layout="row" layout-fill>
        {{$ctrl.subject}} ({{$ctrl.count}})
        <span flex></span>
        <a class="md-caption"
           ng-href="/browse/{{$ctrl.type}}/{{$ctrl.id}}/{{$ctrl.field}}/{{$ctrl.sort}}/{{$ctrl.subject}}/0/20">view in
          browse
          <md-icon md-svg-src="/images/ic_open_in_new_black_24px.svg"></md-icon>
        </a>
      </div>

      <div ng-if="$ctrl.count <= 10" layout="row" flex >

        <a class="browse-anchor" ng-class="{'md-title': $ctrl.index == $ctrl.selectedIndex}" $ng-href="#">{{$ctrl.subject}}
          ({{$ctrl.count}})</a>
        <span flex></span>

      </div>


      <div style="background: #FAF9F7;height: 100%;max-height: 900px;width:100%;margin-bottom: 3px;" layout-fill flex>

        <div class="browse-item" layout="column" layout-fill flex>

          <md-content>
            <small-spinner ng-hide="$ctrl.ready"></small-spinner>
            <item-detail-component
              ng-repeat="col in $ctrl.items.results"
              title="{{col.title}}"
              author="col.author[0]"
              publisher="{{col.publisher}}"
              year="{{col.year}}"
              handle="{{col.handle}}"
              id="{{col.id}}"
              last="$last">
            </item-detail-component>
          </md-content>

        </div>
      </div>




    </div>
  </md-item-content>


</md-list-item>
<md-divider ng-if="!$ctrl.last"></md-divider>
