<div style="min-height: 800px;">

  <h2 class="md-title" ng-if="$ctrl.isBrowseContext()">Browsing: {{$ctrl.browseTerms}}</h2>

  <div class="filter-container intro" ng-if="$ctrl.showDiscoverContainer">

    <sort-options-component ng-if="$ctrl.showOptions"
                            context="{{$ctrl.context}}"
                            reset-list-view="$ctrl.resetListView()">
    </sort-options-component>


    <discover-filter-container ng-if="$ctrl.context=='discover'"
                               on-update="$ctrl.onUpdate(results, count, field)">
    </discover-filter-container>

  </div>

  <!--<div ng-if="$ctrl.count <= 10" class="md-body-1 md-accent layout-padding" style="padding-top: 30px;">-->
  <!--{{$ctrl.resultCountLabel}} {{$ctrl.count}}-->
  <!--</div>-->

  <div class="md-body-1 md-accent layout-padding">{{$ctrl.resultMessage}}
  </div>

  <md-divider></md-divider>


  <div flex="100" layout-fill layout="column" style="height: 100%;margin-top: -12px;">

    <pager-back-component ng-if="$ctrl.jump"
                          context="$ctrl.context">

    </pager-back-component>

    <small-spinner ng-hide="$ctrl.ready"></small-spinner>

    <md-list ng-show="$ctrl.ready">


      <item-detail-component

        ng-if="$ctrl.field!='author' && $ctrl.field!='subject' && $ctrl.field!='discover'"
        ng-repeat="col in $ctrl.items"
        class="repeat-animation"
        title="{{col.title}}"
        author="col.author"
        publisher="{{col.publisher}}"
        year="{{col.year}}"
        handle="{{col.handle}}"
        abstract="{{col.abstract}}"
        id="{{col.id}}"
        pos="{{$index}}"
      ng-class="{'set-divider': $ctrl.addBorder($index)}">

      </item-detail-component>

      <author-detail-component

        ng-if="$ctrl.field=='author'"
        ng-repeat="au in $ctrl.items"
        class="'animate'"
        ng-class="{'selected': $index==$ctrl.selectedIndex}"
        author="{{au.item.value}}"
        count="{{au.item.count}}"
        type="{{$ctrl.type}}"
        id="{{$ctrl.id}}"
        pos="{{$index}}"
        field="{{$ctrl.field}}"
        abstract="{{col.abstract}}"
        last="$last"
        set-selected="$ctrl.setSelected(pos)">

      </author-detail-component>

      <subject-detail-component

        ng-if="$ctrl.field=='subject'"
        ng-repeat="sub in $ctrl.items"
        ng-class="{'selected': $index==$ctrl.selectedIndex}"
        subject="{{sub.item.value}}"
        count="{{sub.item.count}}"
        type="{{$ctrl.type}}"
        id="{{$ctrl.id}}"
        pos="{{$index}}"
        field="{{$ctrl.field}}"
        abstract="{{col.abstract}}"
        last="$last"
        set-selected="$ctrl.setSelected(pos)">

      </subject-detail-component>

      <discover-detail-component

        ng-if="$ctrl.field=='discover'"
        ng-repeat="item in $ctrl.items"
        title="{{item.title[0]}}"
        default-title="{{item.defaultTitle}}"
        id="{{item.resourceid}}"
        description="item.description"
        resource-type="{{item.resourcetype}}"
        handle="{{item.handle}}"
        last="$last"
        count="{{$ctrl.count}}">

      </discover-detail-component>

    </md-list>

    <pager-component ng-show="$ctrl.ready"

      on-pager-update="$ctrl.onPagerUpdate(results, count, field)"
      on-prev-update="$ctrl.onPreviousUpdate(results, count, field)"
      on-new-set="$ctrl.onUpdate(results, count, field, offset, jump)"
      context="{{$ctrl.context}}">

    </pager-component>

    <div ng-if="$ctrl.count > 10" class="md-body-1 md-accent layout-padding">{{$ctrl.resultMessage}}
    </div>

    <p>&nbsp;</p>
  </div>
</div>


